<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Layering Structure – SGSSS NVivo Guidance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./orgnodes.html" rel="next">
<link href="./project-file.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2486e1f0a3ee9ee1fc393803a1361cdb.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-6561bbde787c299e21493071c8edc6ff.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-a8b20000c6085d9a5d2cad86a32410b8.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="site_libs/quarto-contrib/iconify-2.1.0/iconify-icon.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./brand/whitelogo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">SGSSS NVivo Guidance</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Going Further</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./primers.html"> 
<span class="menu-text">Primers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./resources.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./quickexample.html"><strong>Dynamic Sets and Queries</strong></a></li><li class="breadcrumb-item"><a href="./quickexample.html">Layering Structure</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="c73e91caa6ec2653885e99101673729e" class="alert alert-info hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Work in Progress</strong> - these additional online materials are work in progress and will continue to be updated following the session.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./project-file.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project File</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Dynamic Sets and Queries</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quickexample.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Layering Structure</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Coding Workflows</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./orgnodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Organisation Codes</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>Framework Matrices</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./buildingthemes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Building Themes</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#project-structure" id="toc-project-structure" class="nav-link active" data-scroll-target="#project-structure">🤔 Project Structure</a></li>
  <li><a href="#interview-participants" id="toc-interview-participants" class="nav-link" data-scroll-target="#interview-participants">Interview Participants</a>
  <ul class="collapse">
  <li><a href="#basics-of-creating-a-dynamic-set" id="toc-basics-of-creating-a-dynamic-set" class="nav-link" data-scroll-target="#basics-of-creating-a-dynamic-set">Basics of creating a dynamic set</a></li>
  <li><a href="#look-for-interview-participant-cases" id="toc-look-for-interview-participant-cases" class="nav-link" data-scroll-target="#look-for-interview-participant-cases">Look for interview participant cases</a></li>
  <li><a href="#quick" id="toc-quick" class="nav-link" data-scroll-target="#quick">Quick?</a></li>
  </ul></li>
  <li><a href="#remain-interview-participants" id="toc-remain-interview-participants" class="nav-link" data-scroll-target="#remain-interview-participants">Remain Interview Participants</a></li>
  <li><a href="#remain-interview-participants-views-on-the-leave-campaign" id="toc-remain-interview-participants-views-on-the-leave-campaign" class="nav-link" data-scroll-target="#remain-interview-participants-views-on-the-leave-campaign">Remain Interview Participants Views on the Leave Campaign</a>
  <ul class="collapse">
  <li><a href="#view-results" id="toc-view-results" class="nav-link" data-scroll-target="#view-results">View Results</a></li>
  </ul></li>
  <li><a href="#comparing-leave-and-remain-supporters" id="toc-comparing-leave-and-remain-supporters" class="nav-link" data-scroll-target="#comparing-leave-and-remain-supporters">Comparing Leave and Remain Supporters</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./quickexample.html"><strong>Dynamic Sets and Queries</strong></a></li><li class="breadcrumb-item"><a href="./quickexample.html">Layering Structure</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Layering Structure</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="project-structure" class="level2">
<h2 class="anchored" data-anchor-id="project-structure">🤔 Project Structure</h2>
<p>Within NVivo guidance and training you’ll often see emphasis being placed on considering your project structure, such as:</p>
<ul>
<li>Use of folders to organise data, nodes, cases, and memos.</li>
<li>Which case classifications to create.</li>
<li>Auto-coding by speaker, style, and/or structure.</li>
</ul>
<p>When first starting with NVivo, it may not always be clear why such importance is placed on these considerations.</p>
<p>Let’s say you have the following series of questions during your analysis:</p>
<ul>
<li>How do I find the cases for all the interview participants?</li>
<li>How do I find the cases for interview participants who supported Remain?</li>
<li>How do I find what views interview participants who supported Remain had on the Leave campaign?</li>
<li>How can I do an initial broad comparison of the views of Remain and Leave campaign supports?</li>
</ul>
</section>
<section id="interview-participants" class="level2">
<h2 class="anchored" data-anchor-id="interview-participants">Interview Participants</h2>
<p>Within the project file, all our participant cases are in the <strong>Cases &gt; Participants</strong> folder. This though includes interview and focus group participant cases.</p>
<p>This is a perfect scenario for creating a dynamic set.</p>
<section id="basics-of-creating-a-dynamic-set" class="level3">
<h3 class="anchored" data-anchor-id="basics-of-creating-a-dynamic-set">Basics of creating a dynamic set</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">New Dynamic Set</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">General Details</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Search Criteria Tab</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Advanced Tab</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p><img src="images/dynamic-set-new.png" class="img-fluid"></p>
<ol type="1">
<li>In the left-hand Navigation View, <strong>right-click</strong> ‘Dynamic Sets’.</li>
<li>From the context menu, click ‘New Dynamic Set…’</li>
</ol>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p><img src="images/dynamic-set-details.png" class="img-fluid"></p>
<p>Provide an apt ‘Name’ and ‘Description’.</p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<p><img src="images/dynamic-set-search-tab.png" class="img-fluid"></p>
<p>Click the ‘Search Criteria’ tab, and …</p>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p><img src="images/dynamic-set-advanced.png" class="img-fluid"></p>
<p>Within the Search Criteria view, click the ‘Advanced’ tab!</p>
<p>In my opinion, the default, supposedly, ‘Intermediate’ tab is an overwhelming mess. It shows you upfront all the various options that are available, making it difficult to visually parse.</p>
<p>You can see it has a series of lines with check boxes of what you want to search for. Consider the ‘Advanced’ tab we are switching to as adding as many of these lines as needed one by one.</p>
</div>
</div>
</div>
</section>
<section id="look-for-interview-participant-cases" class="level3">
<h3 class="anchored" data-anchor-id="look-for-interview-participant-cases">Look for interview participant cases</h3>
<p>Then for our search criteria, we know two things that distinguishes our interview participants cases:</p>
<ol type="1">
<li>The cases code parts of the interview transcripts.</li>
<li>The cases are classified within the ‘People’ case classification.</li>
</ol>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Look for</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">1st Criteria</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">2nd Criteria</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Done</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>First, let’s set the dynamic set to look for cases.</p>
<p><img src="images/dynamic-sets-looking-for.png" class="img-fluid"></p>
<p>Within the ‘Advanced’ view:</p>
<ol type="1">
<li>Select the drop-down to choose what to ‘Look for’.</li>
<li>As we want to find interview participant cases, select ‘Codes &amp; Cases’</li>
</ol>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>As our first criteria, let’s add a criteria to return any ‘codes &amp; cases’ that code any of our interview transcripts.</p>
<p><img src="images/dynamic-set-1-code.png" class="img-fluid"></p>
<ol start="3" type="1">
<li>Within the ‘Define more criteria’ section, click the box under ‘Interaction’.</li>
<li>From the drop-down list select ‘Code’.</li>
</ol>
<p><img src="images/dynamic-set-1-option.png" class="img-fluid"></p>
<ol start="5" type="1">
<li>Click the box under ‘Option’.</li>
<li>From the drop-down list select ‘That Codes’.</li>
</ol>
<p><img src="images/dynamic-set-1-value.png" class="img-fluid"></p>
<ol start="7" type="1">
<li>Click the box under ‘Value’.</li>
<li>From the drop-down list select ‘Selected Items’.</li>
</ol>
<p>A ‘Select Project Items’ dialogue will pop open.</p>
<p><img src="images/dynamic-set-1-interviews.png" class="img-fluid"></p>
<ol start="9" type="1">
<li>Expand the ‘Files’ folder to see the sub-folders.</li>
<li>Check the tick-box for the ‘Interviews (2016)’ sub-folder. This will select all the interview transcripts in the sub-folder.</li>
<li>Hit ‘OK’ to confirm the selection.</li>
</ol>
<p>A wee example of odd minor frustrations NVivo presents. After selecting our interaction, option, value, and files of interest, the ‘Add to List’ option remains greyed out – but, why?</p>
<p><img src="images/dynamic-set-1-by.png" class="img-fluid"></p>
<p>There’s a sneaky additional ‘by’ field that can’t be left blank.</p>
<ol start="12" type="1">
<li>Click the box to the right of ‘by’ (and under the box for ‘Select Items’)</li>
<li>From the drop-down list, select ‘Any User’</li>
</ol>
<p><img src="images/dynamic-set-1-add.png" class="img-fluid"></p>
<ol start="14" type="1">
<li>Click ‘Add to List’.</li>
</ol>
<p><img src="images/dynamic-set-1st.png" class="img-fluid"></p>
<p>Our 1st criteria now appears in the giant box for ‘Find items that match all these criteria’.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Next, we now</p>
<p><img src="images/dynamic-set-2-code.png" class="img-fluid"></p>
<ol start="15" type="1">
<li>Click the box under Interaction.</li>
<li>Select ‘Code’ again.</li>
</ol>
<p><img src="images/dynamic-set-2-option.png" class="img-fluid"></p>
<ol start="17" type="1">
<li>Click the box under Option.</li>
<li>Select ‘Assigned to Classification’.</li>
</ol>
<p><img src="images/dynamic-set-2-value.png" class="img-fluid"></p>
<ol start="19" type="1">
<li>Click the box under Value.</li>
<li>Select ‘Selected Classifications’.</li>
</ol>
<p><img src="images/dynamic-set-2-select-people.png" class="img-fluid"></p>
<ol start="21" type="1">
<li>Within the Select Project Items dialogue that pops up, tick the checkbox for ‘People’ case classification.</li>
<li>Hit ‘OK’ to confirm.</li>
</ol>
<p><img src="images/dynamic-set-2-done.png" class="img-fluid"></p>
<ol start="23" type="1">
<li>Click ‘Add to List’.</li>
<li>Hit ‘OK’ to save your dynamic list.</li>
</ol>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<p><img src="images/dynamic-set-results.png" class="img-fluid"></p>
<p>And there we have it. Our dynamic set (in red) appears in the Navigation Folder similar to a folder and the items meeting our search criteria (in green) are listed in the Display panel.</p>
</div>
</div>
</div>
</section>
<section id="quick" class="level3">
<h3 class="anchored" data-anchor-id="quick">Quick?</h3>
<p>OK, so maybe that did not feel like a ‘quick’ example. However, that is more to do with the number of steps required, it being something new, and weird quirks in NVivo. Once you gain a sense for how to create criteria for dynamic sets they can be created in a minute or less. Importantly, remember these are dynamically updated, you only need to create each once.</p>
</section>
</section>
<section id="remain-interview-participants" class="level2">
<h2 class="anchored" data-anchor-id="remain-interview-participants">Remain Interview Participants</h2>
<p>So, our next question was finding all our interview participants who support Remain the EU Referendum. As it is similar steps to follow, a shortened version of the instructions are included below.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">New Dynamic Set</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">2nd Criteria</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p><img src="images/dynamic-b-info.png" class="img-fluid"></p>
<p>Create a new dynamic set (right-click on ‘Dynamic Sets’ and select ‘New Dynamic Set…’) and provide it relevant Name and Description.</p>
<p><img src="images/dnyamic-set-b-c1.png" class="img-fluid"></p>
<p>Then in ‘Search Criteria’ tab and ‘Advanced’ sub-tab:</p>
<ol type="1">
<li>Look for: ‘Codes % Cases’</li>
<li>Interaction: “Code”</li>
<li>Option: “That Codes”</li>
<li>Value: “Select Items” &amp; tick the checkbox next to ‘Interviews (2016)’ in the pop up dialogue.</li>
<li>By: “Any User”</li>
<li>Hit “Add to List”</li>
</ol>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p><img src="images/dynamic-set-b-interaction.png" class="img-fluid"></p>
<p>This time for the 2nd criteria, select ‘Attribute’ for the interaction.</p>
<p><img src="images/dynamic-set-b-attrib.png" class="img-fluid"></p>
<p>Within the Select Project Item dialogue that opens:</p>
<ol type="1">
<li>Expand the People case classification.</li>
<li>Select ‘2016 vote’ (the attribute to Remain/Leave in the EU Referendum)</li>
<li>Hit ‘OK’</li>
</ol>
<p><img src="images/dynamic-set-b-remain.png" class="img-fluid"></p>
<p>All that’s left to do:</p>
<ol type="1">
<li>Change the ‘Value’ we are selecting for to ‘Remain’.</li>
<li>Click ‘Add to List’.</li>
<li>Hit ‘OK’ to create the Dynamic Set.</li>
</ol>
</div>
</div>
</div>
<p><img src="images/dynamic-set-b-done.png" class="img-fluid"></p>
<p>And again our Dynamic Set is shown in red and the results in green.</p>
<p>As you can see, once you start getting a sense for how to create search criteria, it becomes relatively quick for creating them – most of the time spent is figuring out how to do it in the first place.</p>
</section>
<section id="remain-interview-participants-views-on-the-leave-campaign" class="level2">
<h2 class="anchored" data-anchor-id="remain-interview-participants-views-on-the-leave-campaign">Remain Interview Participants Views on the Leave Campaign</h2>
<p>Another benefit to Dynamic Sets is they can be used when creating other objects, such as Queries. This helps us then towards our third question - what were our interview participants who supported Remain say about the Leave Campaign.</p>
<p>Here we can combine our “Remain Interview Participants” Dynamic Set and the “LEAVE CAMPAIGN” code.</p>
<p>(If you missed the Intro workshop, this code and others were created by auto-coding the interview transcripts. This was possible as the transcripts have Headings for each of the main topics covered in the interviews.)</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Create Coding Query</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Coding Query Criteria</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">2nd Criteria</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p><img src="images/coding-query1.png" class="img-fluid"></p>
<p>First, click ‘Query Criteria’ in the left Navigation View.</p>
<p><img src="images/coding-query2.png" class="img-fluid"></p>
<p>Within the Details list you may see a message explaining what Query criteria are, if so hit ‘Close’.</p>
<p><img src="images/coding-query3.png" class="img-fluid"></p>
<p>Right-click anywhere within the white space of the Details list, and:</p>
<ol type="1">
<li>Select ‘New Query’</li>
<li>‘Coding’</li>
</ol>
<p><img src="images/coding-query4.png" class="img-fluid"></p>
<p>This will open a new tab for creating a Coding Query. Similar to when creating Dynamic Sets in the Advanced view, we have ‘Search in’ options to limit our query to specific files, items, or folders (in blue). We also have rows for our search criteria (in green).</p>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>We what are our two main criteria?</p>
<ul>
<li>Interview participants who supported Remain.</li>
<li>Transcript sections where they speak about the Leave Campaign.</li>
</ul>
<p><img src="images/coding-query5.png" class="img-fluid"></p>
<p>To begin then:</p>
<ol type="1">
<li>Change ‘All Selected Codes or Cases’ to ‘Any Selected Code or Case’. (We want to find any text in the transcripts coded to any of our remain participants case)</li>
<li>Click the ‘…’ to open a ‘Select Project Items’ dialogue to select our cases.</li>
</ol>
<p><img src="images/coding-query6.png" class="img-fluid"></p>
<p>Within the ‘Select Project Items’:</p>
<ol start="3" type="1">
<li>Tick the checkbox for the ‘Remain Interview Participants’ dynamic set.</li>
<li>Hit ‘OK’</li>
</ol>
<p>And that is it – our first criteria done!</p>
<p><img src="images/coding-query7.png" class="img-fluid"></p>
<p>By default a new Coding Query is set to return ‘All’ (in light blue) coded sections that meet the listed criteria. So, all we need to do now is add another criteria for our ‘LEAVE CAMPAIGN’ code.</p>
<ol type="1">
<li>Click the ‘+’ at the end of our first criteria to add another criteria below.</li>
<li>Change the middle box again to ‘Any Selected Code or Case’</li>
<li>Click the ‘…’ once more for a ‘Select Project Items’ dialogue.</li>
</ol>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<p><img src="images/coding-query8.png" class="img-fluid"></p>
<p>Within the ‘Select Project Items’ dialogue:</p>
<ol type="1">
<li>Expand the ‘Codes’ folder.</li>
<li>Select the ‘Autocoded (Sections)’ subfolder.</li>
<li>Check the tickbox for the ‘LEAVE CAMPAIGN’ node.</li>
<li>Hit ‘OK’ to confirm.</li>
</ol>
<p><img src="images/coding-query9.png" class="img-fluid"></p>
<p>Now you can hit Run Query (in pink) to check the query results match what we were expecting and Save Criteria… (in blue) so we can quickly access it again in future. As it is a fairly simple query and fast to run, there is no need to save a separate copy of the results.</p>
</div>
</div>
</div>
<section id="view-results" class="level3">
<h3 class="anchored" data-anchor-id="view-results">View Results</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Node Views</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Open Referenced File</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<p><img src="images/coding-query10.png" class="img-fluid"></p>
<p>After hitting ‘Run Query’ you’ll be able to see all coded sections that match our Code Query criteria. Just as when viewing regular Codes, there are three tabs on the right-hand side.</p>
<p><img src="images/summary.png" class="img-fluid"></p>
<p><strong>Summary</strong> - provides a list of the interview transcript files with details for how many ‘References’ there are - in other words, how many coded sections within this transcript met our criteria - and ‘Coverage’ - what percentage of the total transcript is captured by the coded sections meeting our criteria.</p>
<p><img src="images/reference.png" class="img-fluid"></p>
<p><strong>Reference</strong> - is the default view when viewing Code results. It provides a view with all the coded sections, ordered by file they appear in. At the top, in the blue box, you can see it noting that the coded sections that follow are from the Cathy interview transcript, alongside the total references found and coverage. Then it lists each coded section in turn with info for coverage for that individual coded section, in green box.</p>
<p><img src="images/text.png" class="img-fluid"></p>
<p><strong>Text</strong> - is similar to the ‘Reference’ view, but is like it’s ‘tab view’ equivalent. Rather than showing all the coded sections in a single view, it adds a row along the top for all the files, where clicking to select any listed file (in blue box) will change the main view below to show only the coded sections from it.</p>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p><img src="images/open-referenced-file.png" class="img-fluid"></p>
<p>And, finally, remember when viewing coded sections, you can right-click on any reference (in blue) and select ‘Open Referenced File’ to open the file the coded section is from.</p>
<p><img src="images/opened-referenced-file.png" class="img-fluid"></p>
<p>NVivo will open a new tab for the file, jumping to the specific coded section you had right-click on, and with a Coding Query will also highlight other coded sections from it in the file.</p>
</div>
</div>
</div>
</section>
</section>
<section id="comparing-leave-and-remain-supporters" class="level2">
<h2 class="anchored" data-anchor-id="comparing-leave-and-remain-supporters">Comparing Leave and Remain Supporters</h2>
<p>Our final intial question was making an inital broad comparison between the views of Leave and Remain supporters.</p>
<p>We can achieve this with a Matrix Coding Query combining our interview transcript autocoding with are People case classification attribute values.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Matrix Coding Query</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Adding Rows</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Adding Columns</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-4" role="tab" aria-controls="tabset-6-4" aria-selected="false">Viewing Results</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<p><img src="images/matrix-coding1.png" class="img-fluid"></p>
<p>Within the Query Criteria, right-click in the white space and -</p>
<ol type="1">
<li>Select ‘New Query’</li>
<li>Then ‘Matrix Coding Query’</li>
</ol>
<p><img src="images/matrix-coding2.png" class="img-fluid"></p>
<p>This will open a new tab for creating a Matrix Coding Query. We can see some of the familar elements again. In yellow we have the optiosn for searching across all Files &amp; Externals or specific Items and Folders. In blue, we have the default ‘And’ for handling criteria - other options include Or, Not, and Near. What is different though is rather than adding 1+ criteria, we have a box for selecting Rows and another for Columns, in red.</p>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<p>It is possible to drag and drop items into the boxes for Rows and Columns, but it is often far quicker and more convenient to use the ‘Select Project Items’ dialogue.</p>
<p><img src="images/matrix-coding3.png" class="img-fluid"></p>
<ol type="1">
<li>Click the ‘+’ underneath the Rows box on the left.</li>
<li>From the two options click ‘Select Items…’</li>
</ol>
<p><img src="images/matrix-coding4.png" class="img-fluid"></p>
<p>Then within the Select Project Items dialogue:</p>
<ol type="1">
<li>Expand the Codes folder.</li>
<li>Check the tickbox for the ‘Autocoded (Sections)’ sub-folder.</li>
<li>Hit ‘OK’.</li>
</ol>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<p>We can follow the same process to select our columns.</p>
<p><img src="images/matrix-coding5.png" class="img-fluid"></p>
<ol type="1">
<li>Click the ‘+’ underneath the Columns box.</li>
<li>From the two options click ‘Select Items…’</li>
</ol>
<p>Whilst ‘Select Attribute Values..’ is an option, that is for selecting individual values with criteria (equals, does not equal) one by one. For our purposes, ‘Select Items…’ remains more convenient.</p>
<p><img src="images/matrix-coding6.png" class="img-fluid"></p>
<ol type="1">
<li>Select the ‘Case Classifications’ folder.</li>
<li>Expand the ‘People’ case classification.</li>
<li>Expand the ‘2016 vote’ attribute.</li>
</ol>
<p><img src="images/matrix-coding7.png" class="img-fluid"></p>
<p>After scrolling down a bit:</p>
<ol type="1">
<li>Check the box for ‘Leave’ attribute value.</li>
<li>Check the box for ‘Remain’ attribute value.</li>
<li>Hit ‘OK’.</li>
</ol>
</div>
<div id="tabset-6-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-4-tab">
<p><img src="images/matrix-coding8.png" class="img-fluid"></p>
<p>After selecting our Rows and Columns, we can hit ‘Run Query’ (in pink) to create our Coding Matrix. Remember if you want to be able to quickly re-run and update the Coding Matrix to also hit ‘Save Criteria…’ (in green) and give it a suitable name.</p>
<p>The Coding Matrix itself (in blue) for each cell in the table shows how many coded sections intersect the two. So, the cell highlight (in yellow) is telling us that 15 sections coded ‘VOTING DECISION’ were also coded to cases, where the participant the case is for supported Leave (both in red).</p>
<p><img src="images/matrix-coding9.png" class="img-fluid"></p>
<p>That may not seem all that impressive at first. The real power of Coding Matrices though come from double-clicking any of the cells.</p>
<p>That will open a new tab showing all the coded sections being counted in that cell. So, for our example, it opens a tab showing all sections coded ‘VOTING DECISION’ AND also coded to a case where the participant supported Leave.</p>
<p>This makes a Coding Matrix the equivalent of a table of shortcuts to more specific queries. Since you can create them with classification attributes, it also makes them ideal for creating queries to aid comparison.</p>
</div>
</div>
</div>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>These examples show different ways you can iteratively build upon your project structure as your analysis progresses.</p>
<ul>
<li>Your initial structure (folders, codes, cases) can be used to create dynamic sets or query for specific coded sections.</li>
<li>It is possible to add layers upon layers. A dynamic set can be used as part of a query - saving you having to repeat the specific criteria for it again and again.</li>
</ul>
<p>It can be useful then, in addition to considering your ‘foundational’ structure to think about which dynamic sets can add a supporting additional layer to make other tasks easier in the long-term.</p>
<p>It can feel slow and clunky at first getting to grips with creating them, but as you create more your pace will quicken, and through combining them with queries start to more intuitively combine NVivo features in relation to questions that arise during analysis.</p>
<hr>
<div id="living-documents" class="callout callout-style-simple callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Don’t panic!
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is not a problem if you have already started your analysis and not added some of the ways to structure a project file covered in this session.</p>
<ol type="1">
<li>Most - such as auto-coding and creating folders - can be created at any stage.</li>
<li>Not every project and analysis needs to use all of these structuring options. Some options also add equivalent structure in different ways, where there is some ‘aesthetic choice’ in which to use.</li>
<li>If your transcripts do not make use of headers to structure the main topics covered, you can still do manual ‘broad-brush’ coding. (If having this topic-level coding would benefit your analysis!)</li>
</ol>
<p>Importantly, for some project structure decisions there is no 100% right/wrong way to do it.</p>
<p>In the example covered we had a ‘Participants’ case folder, containing the cases for all participants, and used a dynamic set to get ‘Interview Participants’.</p>
<p>Another project structure may have case folders for ‘Interview participants’ and ‘Focus Group participants, and use a dynamic set to get ’All Participants’.</p>
<p>Note, this would be feasible as long as the interview and focus group participants are two distinct groups. If some participants took part in both interviews and focus groups, then it would not be possible to have separate Cases folders for them, and the project would need to be structured similar to this example.</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./project-file.html" class="pagination-link" aria-label="Project File">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Project File</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./orgnodes.html" class="pagination-link" aria-label="Organisation Codes">
        <span class="nav-page-text">Organisation Codes</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://www.sgsss.ac.uk/">
<p>SGSSS</p>
</a>
  </li>  
    <li class="nav-item">
  | 
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://social.sgsss.ac.uk/">
<p>Social</p>
</a>
  </li>  
    <li class="nav-item">
  | 
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://bsky.app/profile/sgsss.bsky.social">
<p><iconify-icon role="img" inline="" icon="fa6-brands:bluesky" style="font-size: 1.1em;" aria-label="Icon bluesky from fa6-brands Iconify.design set." title="Bluesky"></iconify-icon> Bluesky</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>